import{b as C,o as h,u as y,c as g,i as d,a as o,j as b,t as i,s as m,d as N}from"./index.63c3418c.js";import E from"./_...404_.0cdb4451.js";import{a as x}from"./Games.49d8852b.js";import{U as $}from"./Tab.81eba0f1.js";const J=i('<div class="flex justify-center w-full pb-16 text-gray-100"><div class="bg-gray-800 m-3 w-[300px] sm:w-[616px] md:w-[744px] lg:w-[1000px]"><div id="gameContainer" class="sm:w-[616px] sm:h-[347px] md:w-[744px] md:h-[419px] lg:w-[1000px] lg:h-[563px]"></div><div class="p-2"><div class="float-right text-2xl m-1"><i></i><i class="fa-light fa-expand-wide px-2"></i></div><h1 class="text-2xl m-2"></h1><p class="text-base m-2 select-none"></p></div></div></div>'),I=i('<embed id="game" class="w-full h-full">'),j=i('<iframe id="game" class="w-full h-full border-0"></iframe>'),F=i('<iframe id="game" class="w-full h-full"></iframe>'),T=i('<div id="game"></div>');function q(r){const[a,e]=C(!1);h(()=>{$();let t;try{t=JSON.parse(localStorage.getItem("favorites"))||[]}catch{t=[]}t.includes(l.route)&&e(!0)});let l;if(r.game)l=x.find(t=>t.route===r.game);else{const t=y();l=x.find(s=>s.route===t.pathname.split("/").at(-1))}if(!l)return g(E,{});function n(){document.getElementById("gameContainer").children[0].requestFullscreen()}function w(){let t;try{t=JSON.parse(localStorage.getItem("favorites"))||[]}catch{t=[]}t.includes(l.route)?(t.splice(t.indexOf(l.route),1),e(!1)):(t.push(l.route),e(!0)),localStorage.setItem("favorites",JSON.stringify(t))}return(()=>{const t=J.cloneNode(!0),s=t.firstChild,u=s.firstChild,_=u.nextSibling,f=_.firstChild,c=f.firstChild,v=c.nextSibling,p=f.nextSibling,S=p.nextSibling;return d(u,g(O,{game:l})),c.$$click=w,v.$$click=n,d(p,()=>l.title),d(S,()=>l.description),o(()=>b(c,`${a()?"fa-solid":"fa-light"} fa-heart px-2 ${a()?"text-red-600":"text-text-100"}`)),t})()}const U={encode(r){return r&&encodeURIComponent(r.toString().split("").map((a,e)=>e%2?String.fromCharCode(a.charCodeAt()^2):a).join(""))},decode(r){if(!r)return r;let[a,...e]=r.split("?");return decodeURIComponent(a).split("").map((l,n)=>n%2?String.fromCharCode(l.charCodeAt(0)^2):l).join("")+(e.length?"?"+e.join("?"):"")}};function O(r){const{game:a}=r;return a.gameType==="flash"?(()=>{const e=I.cloneNode(!0);return o(()=>m(e,"src",`/cdn${a.source}`)),e})():a.gameType==="html"?(()=>{const e=j.cloneNode(!0);return o(()=>m(e,"src",`/cdn${a.source}`)),e})():a.gameType==="proxy"?(()=>{const e=F.cloneNode(!0);return o(()=>m(e,"src","/~/"+U.encode(a.source))),e})():(h(()=>{$(),window.EJS_player="#game",window.EJS_gameUrl=`/cdn${a.source}`,window.EJS_core=a.gameType,window.EJS_gameName=a.title,window.EJS_pathtodata="/cdn/data/";const e=document.createElement("script");e.src="/cdn/data/loader.js",e.defer=!0,document.body.appendChild(e)}),T.cloneNode(!0))}N(["click"]);export{q as default};
